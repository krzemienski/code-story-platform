# Plan 02-04: Style Testing

## Objective

Validate that each narrative style produces distinctly different outputs.

## Context

- 5 narrative styles with unique prompts
- Style affects: tone, structure, vocabulary, pacing
- Validation: outputs should be clearly distinguishable

## Pre-conditions

- [x] All 5 style prompts comprehensive (02-01)
- [x] Voice settings vary by style (02-02)
- [x] Style selection UI complete (02-03)
- [ ] Distinct outputs validated

## Tasks

### Task 1: Analyze Prompt Distinctiveness

**Type**: analysis

**Action**: Compare key differentiators across styles:
- fiction: world-building, characters, dramatic arc
- documentary: metrics, historical context, expert insights
- tutorial: progressive learning, mental checkpoints
- podcast: conversational, tangents, authentic reactions
- technical: code references, complexity analysis, precise terminology

**Verify**: Each prompt has unique structural elements

**Done**: [ ]

---

### Task 2: Check Example Tones

**Type**: validation
**Files**: `lib/agents/prompts.ts`

**Action**: Verify each style has example tone snippet:
- Different vocabulary
- Different sentence structure
- Different opening approach

**Verify**: 5 distinct example tones exist

**Done**: [ ]

---

### Task 3: Validate Style Selection Flow

**Type**: validation

**Action**: Trace style from selection to output:
1. User selects style in UI
2. Style stored with story record
3. Generate route uses style for prompt
4. Voice settings adjust for style
5. Output reflects style characteristics

**Verify**: End-to-end style application

**Done**: [ ]

---

## Validation Gates

### Gate 1: Each Style Has Example Tone
\`\`\`bash
grep -c "EXAMPLE TONE:" lib/agents/prompts.ts
\`\`\`
**Expected**: 5

### Gate 2: Style Used in Generation
\`\`\`bash
grep "narrative_style" app/api/stories/generate/route.ts | wc -l
\`\`\`
**Expected**: > 5

### Gate 3: Style Affects Voice
\`\`\`bash
grep "narrative_style.*fiction" app/api/stories/generate/route.ts
\`\`\`
**Expected**: Conditional logic found

## Acceptance Criteria

- [ ] Each style has unique structural guidance
- [ ] Each style has distinct example tone
- [ ] Style flows from UI to generation
- [ ] Voice settings respond to style
- [ ] Expected: 5 distinctly different outputs

## Post-conditions

- Phase 02 complete
- Narrative styles validated for production
- Ready for Phase 03 (Python Backend) or continued v1.1 development
