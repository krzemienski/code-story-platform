# Plan 02-02: Voice Settings

## Objective

Configure style-specific ElevenLabs voice settings for optimal audio output per narrative style.

## Context

- ElevenLabs TTS integration exists
- Voice settings affect: stability, similarity, style
- Different styles need different voice characteristics

## Pre-conditions

- [x] ElevenLabs integration exists
- [x] Narrative styles defined
- [ ] Style-specific voice settings applied

## Tasks

### Task 1: Validate ElevenLabs Integration

**Type**: validation
**Files**: `app/api/stories/generate/route.ts`, `lib/elevenlabs.ts`

**Action**: Verify ElevenLabs API integration:
- API key configuration
- Voice ID selection
- Text-to-speech synthesis

**Verify**: Integration code exists

**Done**: [ ]

---

### Task 2: Check Style-Specific Voice Settings

**Type**: validation
**Files**: `app/api/stories/generate/route.ts`

**Action**: Verify voice settings vary by style:
- stability (0-1): Lower for fiction (more expressive)
- similarity_boost (0-1): Higher for technical (consistent)
- style (0-1): Higher for fiction (more dramatic)

**Verify**: Settings differentiated by style

**Done**: [ ]

---

### Task 3: Validate Voice Selection Options

**Type**: validation
**Files**: `lib/elevenlabs.ts` or voice constants

**Action**: Verify voice options:
- Multiple voice IDs available
- Voice characteristics documented
- Selection UI exists

**Verify**: Voice options available

**Done**: [ ]

---

## Validation Gates

### Gate 1: ElevenLabs File Exists
\`\`\`bash
ls -la lib/elevenlabs*.ts 2>/dev/null || grep -r "elevenlabs" lib/ --include="*.ts" | head -3
\`\`\`
**Expected**: Files or references found

### Gate 2: Voice Settings in Generate Route
\`\`\`bash
grep -E "stability|similarity|style" app/api/stories/generate/route.ts | head -5
\`\`\`
**Expected**: Voice settings found

### Gate 3: Style-Based Settings
\`\`\`bash
grep -E "narrative_style.*stability|fiction.*0\." app/api/stories/generate/route.ts
\`\`\`
**Expected**: Style-conditional settings

## Acceptance Criteria

- [ ] ElevenLabs integration exists
- [ ] Voice settings vary by narrative style
- [ ] Fiction has lower stability (more expressive)
- [ ] Technical has higher stability (more consistent)
- [ ] Voice selection available to users

## Post-conditions

- Audio quality optimized per style
- Voice characteristics match narrative tone
