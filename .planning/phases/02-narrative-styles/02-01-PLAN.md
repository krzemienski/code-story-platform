# Plan 02-01: Style Prompts

## Objective

Validate and enhance narrative style prompts for all 5 styles to ensure distinct, high-quality outputs.

## Context

- Spec reference: `/home/nick/code-story/docs-plans-prompts-specs/codestory.md`
- Current prompts: `lib/agents/prompts.ts`
- 5 styles: fiction, documentary, tutorial, podcast, technical

## Pre-conditions

- [x] NARRATIVE_STYLE_PROMPTS object exists
- [x] Prompts used in generation
- [ ] All 5 styles have detailed prompts

## Tasks

### Task 1: Audit Existing Style Prompts

**Type**: validation
**Files**: `lib/agents/prompts.ts`

**Action**: Verify all 5 styles have comprehensive prompts:
- fiction: World-building, character creation, dramatic arc
- documentary: Historical context, structure, expert insights
- tutorial: Progressive learning, exercises, examples
- podcast: Conversational tone, host personality, casual engagement
- technical: Deep-dive, code examples, expert-level detail

**Verify**: All 5 prompts > 20 lines each

**Done**: [ ]

---

### Task 2: Verify Style Selection in Generation

**Type**: validation
**Files**: `lib/agents/prompts.ts`

**Action**: Verify getStoryPrompt function:
- Selects correct style prompt
- Combines with STORY_ARCHITECT_PROMPT
- Applies expertise modifier

**Verify**: Function returns combined prompt

**Done**: [ ]

---

### Task 3: Assess Prompt Quality

**Type**: analysis

**Action**: Evaluate each prompt for:
- Clarity of style definition
- Specific formatting guidance
- Pacing instructions
- Example tone/voice snippets

**Verify**: Quality assessment documented

**Done**: [ ]

---

## Validation Gates

### Gate 1: All 5 Styles Defined
\`\`\`bash
grep -E "^\s*(fiction|documentary|tutorial|podcast|technical):" lib/agents/prompts.ts | wc -l
\`\`\`
**Expected**: 5

### Gate 2: Prompt Length Check
\`\`\`bash
grep -A 30 "fiction:" lib/agents/prompts.ts | wc -l
grep -A 30 "documentary:" lib/agents/prompts.ts | wc -l
grep -A 30 "tutorial:" lib/agents/prompts.ts | wc -l
grep -A 30 "podcast:" lib/agents/prompts.ts | wc -l
grep -A 30 "technical:" lib/agents/prompts.ts | wc -l
\`\`\`
**Expected**: Each > 20 lines

### Gate 3: getStoryPrompt Exists
\`\`\`bash
grep "getStoryPrompt" lib/agents/prompts.ts && echo "PASS" || echo "FAIL"
\`\`\`
**Expected**: PASS

## Acceptance Criteria

- [ ] All 5 narrative styles have detailed prompts
- [ ] Each prompt > 20 lines with specific guidance
- [ ] getStoryPrompt function combines prompts correctly
- [ ] Prompts include example tone snippets

## Post-conditions

- Style prompts validated for quality
- Ready for voice settings integration
