# Plan 01-03: Intent Chat UI

## Objective

Create a conversational UI component for capturing user intent through guided dialogue.

## Context

- Spec reference: `/home/nick/code-story/docs-plans-prompts-specs/codestory.md`
- AI endpoint: `/api/chat/intent` (exists per 01-02)
- UI Framework: React 19, shadcn/ui, Tailwind CSS

## Pre-conditions

- [x] Intent API exists (validated in 01-02)
- [x] INTENT_AGENT_PROMPT defined
- [ ] UI framework configured

## Tasks

### Task 1: Validate IntentChat Component Exists

**Type**: validation
**Files**: `components/intent-chat.tsx`

**Action**: Verify IntentChat component exists with:
- Chat message display
- User input handling
- AI response streaming
- Quick action options

**Verify**: Component file exists with exports

**Done**: [ ]

---

### Task 2: Validate Integration in Story Creation Flow

**Type**: validation
**Files**: `app/dashboard/new/page.tsx`

**Action**: Verify IntentChat is integrated into new story flow:
- Component imported and rendered
- Messages passed to AI endpoint
- Intent captured for story creation

**Verify**: Import exists, component rendered

**Done**: [ ]

---

### Task 3: Validate Intent Categories/Quick Options

**Type**: validation
**Files**: `components/intent-chat.tsx`

**Action**: Verify quick option buttons for intent categories:
- Architecture understanding
- Feature focus
- Onboarding
- etc.

**Verify**: Quick options render and function

**Done**: [ ]

---

## Validation Gates

### Gate 1: Component Exists
```bash
test -f components/intent-chat.tsx && echo "PASS" || echo "FAIL"
```
**Expected**: PASS

### Gate 2: Component Imported in Dashboard
```bash
grep -l "IntentChat" app/dashboard/new/page.tsx && echo "PASS" || echo "FAIL"
```
**Expected**: PASS

### Gate 3: Uses AI Endpoint
```bash
grep -l "api/chat/intent" components/intent-chat.tsx && echo "PASS" || echo "FAIL"
```
**Expected**: PASS

### Gate 4: Has Quick Options
```bash
grep -c "quick" components/intent-chat.tsx
```
**Expected**: > 0

## Acceptance Criteria

- [ ] `components/intent-chat.tsx` exists
- [ ] Component integrated in story creation flow
- [ ] Uses `/api/chat/intent` endpoint
- [ ] Quick options for common intents available
- [ ] Messages display correctly

## Post-conditions

- Users can describe learning goals conversationally
- AI guides intent refinement
- Intent captured for story generation
